<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_script_include">
    <sys_script_include action="INSERT_OR_UPDATE">
        <access>package_private</access>
        <active>false</active>
        <api_name>sn_blog_management.BlogUtilAjax1</api_name>
        <caller_access/>
        <client_callable>true</client_callable>
        <description/>
        <name>BlogUtilAjax1</name>
        <script><![CDATA[var BlogUtilAjax1 = Class.create();
BlogUtilAjax1.prototype = Object.extendsObject(global.AbstractAjaxProcessor, {
    titleExists: function() {
        var title = this.getParameter("sysparm_title");
        var author = this.getParameter("sysparm_author");
        var current = this.getParameter("sysparm_current") || "-1";

        var blog = new GlideRecord("sn_blog_management_blog_post");
        blog.addQuery("title", title);
        blog.addQuery("sys_id", "!=", current);

        if ("" != author)
           blog.addQuery("author", author);
        blog.query();
        if (blog.next())
            return blog.getValue("sys_id");
        return "-1";
    },

    getTitleDetails: function() {
        var table = this.getParameter("sysparm_table");
        var sys_id = this.getParameter("sysparm_id");
        var column = this.getParameter("sysparm_column");
        var operation = this.getParameter("sysparm_operation");

        if (operation == "read") {
            var gr = new GlideRecord(table);
            gr.get(sys_id);
            return gr.getValue(column);
        } else if (operation == "delete") {
            var gr2 = new GlideRecord(table);
            gr2.get(sys_id);
            gr2.deleteRecord();
        } else if (operation == "insert") {
            var gr3 = new GlideRecord(table);
            var col1 = this.getParameter("sysparm_col1");
            var vl1 = this.getParameter("sysparm_vl1");
            var col2 = this.getParameter("sysparm_col2");
            var vl2 = this.getParameter("sysparm_vl2");
            gr3.initialize();
            gr3.setValue(col1, vl1);
            gr3.setValue(col2, vl2);
            gr3.insert();

        }

    },

    type: 'BlogUtilAjax1'
});]]></script>
        <sys_class_name>sys_script_include</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-09 05:52:22</sys_created_on>
        <sys_id>3378268277241110750c98e97a5a99be</sys_id>
        <sys_name>BlogUtilAjax1</sys_name>
        <sys_package display_value="Blog Management" source="sn_blog_management">c45d520743041110c13b24a2ecb8f29d</sys_package>
        <sys_policy>read</sys_policy>
        <sys_scope display_value="Blog Management">c45d520743041110c13b24a2ecb8f29d</sys_scope>
        <sys_update_name>sys_script_include_3378268277241110750c98e97a5a99be</sys_update_name>
    </sys_script_include>
</record_update>
